# /etc/nslcd.conf
# nslcd configuration file. See nslcd.conf(5)
# for details.

# The user and group nslcd should run as.
uid nslcd
gid nslcd

# The location at which the LDAP server(s) should be reachable.
uri ldap://<%= @server %>

# The search base that will be used for all queries.
base <%= @base %>

# The LDAP protocol version to use.
#ldap_version 3

# The DN to bind with for normal lookups.
<% if @binddn -%>
binddn <%= @binddn %>
<%   if @bindpw -%>
bindpw <%= @bindpw %>
<%   end -%>
<% end -%>

<% [@filter].flatten.each do |f| -%>
filter <%= f %>
<% end -%>

# The DN used for password modifications by root.
#rootpwmoddn !NO-MODIFICATIONS!

# SSL options
<%
  if ['true',true].include?(@ssl)
    ssl = 'yes'
  elsif ['false',false].include?(@ssl)
    ssl = 'no'
  else
    ssl = @ssl
  end
%>
ssl <%= ssl %>

#ssl off
#tls_reqcert never

# The search scope.
#scope sub

